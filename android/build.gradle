apply plugin: 'com.android.application'

buildscript {
	repositories {
		jcenter()
	}

	dependencies {
		classpath 'com.android.tools.build:gradle:2.2.2'
	}
}

allprojects {
	repositories {
		jcenter()
	}
}

task clean(type: Delete) {
	delete rootProject.buildDir
}

android {
	compileSdkVersion 25
	buildToolsVersion "25.0.0"
	defaultConfig {
		applicationId "com.eegeo.ProjectSwallowApp"
		minSdkVersion 16
		targetSdkVersion 24
		versionCode 1
		versionName "1.0"
		externalNativeBuild {
			cmake {}
		}
		ndk {
			abiFilters 'armeabi', 'armeabi-v7a', 'arm64-v8a'
		}
	}
	buildTypes {
		release {
			minifyEnabled false
			proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
		}
	}
	externalNativeBuild {
		cmake {
			path "CMakeLists.txt"
		}
	}
	splits {
		abi {
			enable true
			reset()
			include 'armeabi', 'armeabi-v7a', 'arm64-v8a'
			universalApk true
		}
	}
	sourceSets {
		main {
			manifest.srcFile 'AndroidManifest.xml'
			java.srcDirs = ['src']
			res.srcDirs = ['res']
			assets.srcDirs = ['assets']
			jniLibs.srcDirs = ['libs']
		}
	}

	productFlavors {
		armeabi {
			dimension "abi"
			ndk { abiFilter "armeabi" }
		}
		armv7a {
			dimension "abi"
			ndk { abiFilter "armeabi-v7a" }
		}
		arm64v8a {
			dimension "abi"
			ndk { abiFilter "arm64-v8a" }
		}
	}
}

dependencies {
	compile fileTree(dir: 'libs', include: ['*.jar'])
}
