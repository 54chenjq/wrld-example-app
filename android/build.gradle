apply plugin: 'com.android.application'

buildscript {
	repositories {
		jcenter()
	}

	dependencies {
		classpath 'com.android.tools.build:gradle:2.3.0'
	}
}

allprojects {
	repositories {
		jcenter()
	}
}

android {
	compileSdkVersion 25
	buildToolsVersion "26.0.1"
	defaultConfig {
		applicationId "com.eegeo.ProjectSwallowApp"
		minSdkVersion 21
		targetSdkVersion 24
		multiDexEnabled true
		versionCode 1
		versionName "1.0"
		externalNativeBuild {
			cmake {
                cppFlags "-g -Wno-expansion-to-defined -Wno-format-security"
            }
		}
		ndk {
			abiFilters 'armeabi-v7a'
		}
	}

	buildTypes {
		release {
			minifyEnabled false
			proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
		}

		debug {
            jniDebuggable true
            debuggable true
			minifyEnabled false
			proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
		}
	}

	externalNativeBuild {
		cmake {
			path "CMakeLists.txt"
		}
	}

	sourceSets {
		main {
			manifest.srcFile 'AndroidManifest.xml'
			java.srcDirs = ['src']
			res.srcDirs = ['res']
			assets.srcDirs = ['assets']
			jniLibs.srcDirs = ['libs']
		}
	}

	productFlavors {
		armv7a {
			dimension "abi"
			ndk { abiFilter "armeabi-v7a" }
		}
	}
}

dependencies {
	compile fileTree(include: ['*.jar'], dir: 'libs')
	compile('com.android.support:multidex:1.0.1')
	compile('com.android.support:appcompat-v7:25.3.0')
	compile(project(':wrld-android-widgets-release'))
}
